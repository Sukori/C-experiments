#include <stdio.h>

/*
Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:
1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...
By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.

Donc "Even" = "nombres pairs"

Bruteforce: On calcule tous les nombres de fibonacci jusqu'à 4 million et on additionne au passage tous les nombres pairs, soit tous les multiples de 2.
ça fait un paquet d'opérations et c'est peu élégant.
Déjà, on peut aussi dire une chose simple: la somme de deux nombres pairs ou impairs est toujours paire. donc au lieu de faire un test %2, on peut toujours dire qu'on additionne un nombre sur 3 -> 2, 8, 34, 144, ... (on ne va pas s'ammuser à tester les cas ou on additionne deux nombres impairs, c'est inutile.)

Dans un essai précédent en js, je me suis embêté à faire la liste des nombres de fibo jusqu'à 4M. Dans le fond, il n'y a besoin que d'un compteur qui va de 0 à 3 et deux nombres tampons qui updatent alternativement. Quand le compteur est sur 3, on addtitionne le nombre qu'on vient d'obtenir et on remet le compteur sur 0.

Stop quand l'un des deux buffers dépasse 4M.

*/

int stepCounter = 0;

int increment(int, int, int);

int main(){

    int result = increment(1, 2, 2); // 1 et 2 sont les premiers nombres de la suite. 2 est aussi la première valeur de la somme des nombres pairs.

    printf("La somme des nombres pairs de la suite de Fibonacci qui sont inférieurs à 4 million est : %i\n\n", result);

    return 0;
}

int increment(int num1, int num2, int sumEvens){
    //num2 is always the biggest
    
    if (stepCounter == 3){
        sumEvens += num2;
        stepCounter = 0;
    }

    //redunDOOM
    if(num1 <= 4000000 && num2 <= 4000000 ){ //si on veut être formel: "n'éxcède pas 4 million", ça inclut 4 million quand-même... BLEH

        num1 += num2;

        stepCounter++;

        return increment(num2, num1, sumEvens);
    }

    return sumEvens;

}